function WEB_load_ItemSpecialOffer(n,t,i){var ut,l,f,e,o,s,h,a,v,d,y,g,p,nt,w,tt,c,b,it,et,k,rt,r,ot;try{ut=getQueryStrings();l=ut.q;(l==null||l=="")&&(l="");n=$("#sorting").val();(n==null||n==""||n=="Book Name")&&(n="BookName");n=="Clear sort"&&(n="clear");f=$('input[name="checkboxforcategories"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get();f=f.length>0?f.toString():"";e=$('input[name="checkboxforSubjectcategories"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get();e=e.length>0?e.toString():"";o=$('input[name="checkboxforClass"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get();o=o.length>0?o.toString():"";s=$('input[name="checkboxforMedium"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get();s=s.length>0?s.toString():"";h=$('input[name="checkboxforPublisher"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get();h=h.length>0?h.toString():"";a=$('input[name="checkboxforAuthors"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get();a=a.length>0?a.toString():"";var st=$("#sortingAcenDesc").val(),ft=$("#ContentPlaceHolder1_ddl_Language").val(),u="You are Looking for ";for(ft!="Nil"&&(u=u+"<label style='color:black;font-weight:bold'> Language <\/label> - "+$("#ContentPlaceHolder1_ddl_Language option:selected").text()+" || "),l.toString()!=""&&(u=u+"<label style='color:black;font-weight:bold'> Text <\/label> - "+l.toString()+" || "),v=$('input[name="checkboxforcategories"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get(),d=[],r=0;r<v.length;r++)c=$("#Categorylbl"+v[r].replace("Category",""))[0].innerText.toString(),d.push(c);for(v.length>0&&(u=u+"<label style='color:black;font-weight:bold'>School<\/label> - "+d.toString()+" || "),y=$('input[name="checkboxforClass"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get(),g=[],r=0;r<y.length;r++)c=$("#Classlbl"+y[r].replace("Class",""))[0].innerText.toString(),g.push(c);for(y.length>0&&(u=u+"<label style='color:black;font-weight:bold'>Class<\/label> - "+g.toString()+" || "),p=$('input[name="checkboxforMedium"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get(),nt=[],r=0;r<p.length;r++)c=$("#Mediumlbl"+p[r].replace("Medium",""))[0].innerText.toString(),nt.push(c);for(p.length>0&&(u=u+"<label style='color:black;font-weight:bold'>Language<\/label> - "+nt.toString()+" || "),w=$('input[name="checkboxforSubjectcategories"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get(),tt=[],r=0;r<w.length;r++)c=$("#Subjectlbl"+w[r].replace("Subject",""))[0].innerText.toString(),tt.push(c);for(w.length>0&&(u=u+"<label style='color:black;font-weight:bold'>Categories<\/label> - "+tt.toString()+" || "),b=$('input[name="checkboxforPublisher"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get(),it=[],r=0;r<b.length;r++)et=$("#Publisherlbl"+b[r].replace("Publisher",""))[0].innerText,it.push(et);for(b.length>0&&(u=u+"<label style='color:black;font-weight:bold'>Publisher<\/label> - "+it.toString()+" || "),k=$('input[name="checkboxforAuthors"]:checkbox:checked:checkbox:checked').map(function(){return this.id}).get(),rt=[],r=0;r<k.length;r++)ot=$("#Authorlbl"+k[r].replace("Author",""))[0].innerText,rt.push(ot);k.length>0&&(u=u+"<label style='color:black;font-weight:bold'>Author<\/label> - "+rt.toString()+" || ");u=="You are Looking for "?$("#showResultMsgs").html(""):$("#showResultMsgs").html(u);(f==""||f==null||f==undefined)&&loadCategorryFirstTime&&(loadCategorryFirstTime=!1,Load_Categories());(o==""||o==null||o==undefined)&&Load_BooksClasses();(s==""||s==null||s==undefined)&&Load_Books_Medium();(h.toString()==""||h==null||h==undefined)&&Load_Publishers();(e.toString()==""||e==null||e==undefined)&&loadSubjectFirstTime&&(loadSubjectFirstTime=!1,Load_SubjectAsCategories());$.ajax({type:"POST",url:"index.aspx/WEB_load_ItemforShopGrid",data:"{'Language': '"+ft.toString()+"','nextPage': '"+t.toString()+"','Previouspage': '"+i.toString()+"','sortingAcenDesc': '"+st.toString()+"','sortby': '"+n.toString()+"','SelectedCategories': '"+f.toString()+"','SelectedPublisher': '"+h.toString()+"','SelectedAuthor': '"+a.toString()+"','totPageSize': '25','queryString': '"+l.toString()+"','SubjectList': '"+e.toString()+"','ClassList': '"+o.toString()+"','MediumList': '"+s.toString()+"'}",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,beforeSend:function(){$("#WaitingMsg").css("display","block")},success:function(n){var p,t,u,v;try{var i=JSON.parse(n.d),r=i.length,y=!1;if(r>20?(y=!0,r=20,$("#a_Next").removeAttr("disabled","disabled"),$("#a_Nexttop").removeAttr("disabled","disabled")):($("#a_Next").attr("disabled","disabled"),$("#a_Nexttop").attr("disabled","disabled")),r==0&&ResetPageNumber(),p=0,$("#ul_ShopList").empty(),i.length>0){for(t=0;t<r;t++){var c="hidden",l="<span style='background:#ff4318;' class='new-item'>"+i[t].SpecialDiscount+" % OFF<\/span>",a="<li class='old-price' style='color:#bcac9f !important;'>"+i[t].SaleCurrency+" "+i[t].SalePrice+"<\/li><li>"+i[t].SaleCurrency+" "+i[t].DiscountPrice+"<\/li>";i[t].SpecialDiscount==0&&(a="<li>  "+i[t].SaleCurrency+" "+i[t].SalePrice+"<\/li>");i[t].SpecialDiscount==0&&(l="");u="btn btn-primary addCartButton";i[t].ClosingBal<=0&&(c="image-stock-out",u="btn btn-primary disabled addCartButton");v="<div class=''> <div style='text-align:center'><a class='sliderImage-wrapper' class='d-flex' href='view_book.aspx?productid="+i[t].ProductID+"&title="+i[t].BookName+"' title='"+i[t].BookName+"' id='shopitem"+i[t].ProductID+"'><div class='flip-card'><div class='flip-card-inner'><div class='flip-card-front'><div class='slider-image-wrapper'><div class='"+c+"'>Out of Stock<\/div><img class='sliderImage' src='"+i[t].ImgPath+"' alt='"+i[t].BookName+"' title='"+i[t].BookName+"' onError=this.onerror=null;this.src='../resources/no-image.jpg'; />"+l+"<\/div><\/div><div class='flip-card-back'><div class='flip-content'><p class='link'><b>"+i[t].BookName+"<\/b><\/p><b><p style='margin-bottom:0px'>By:<\/p><\/b><p style='font-style: italic;'>"+i[t].Author+"<\/p><b><p style='margin-bottom:0px' >Publisher: <\/p><\/b><p>"+i[t].Publisher+"<\/p><\/div><\/div><\/div><\/div><a class='product_tile givenmeElipse' href='view_book.aspx?productid="+i[t].ProductID+"&title="+i[t].BookName+"'>"+i[t].BookName+"<\/a><div style='margin-top: -4px;' class='star-rating'><i class='fa fa-star'><\/i><i class='fa fa-star'><\/i><i class='fa fa-star'><\/i><i class='fa fa-star'><\/i><i class='fa fa-star'><\/i><\/div><h4 style='text-align:center;'><div class='product-price d-flex' style='flex-direction:column;'><ul style='display: inline-flex;'>"+a+"<\/ul><div class='add-links-wrap-cover'><div class='add-links-wrap'><a id='ProductID_"+i[t].ProductID+"' href='view_book.aspx?productid="+i[t].ProductID+"&title="+i[t].BookName+"' title='"+i[t].BookName+"'  class='shopping-card'><div class='show'><i class='fa fa-external-link'><\/i><\/div><\/a><a CausesValidation='false'   id='itemID"+i[t].ProductID+"' title='Add To Cart'  onclick='return ModalEntry(\""+i[t].ProductID+"\")' class='"+u+"' ><i class='fa fa-shopping-cart hidden-xs'><\/i><span class=''>Add to Cart<\/span><\/a><a href='#' id='itemID"+i[t].ProductID+"' title='Add To Wishlist' onclick='return userwishlist(\""+i[t].ProductID+"\")'  ><div class='add-to-wishlist'><i class='fa fa-heart '><\/i><\/div><\/a><\/div><\/div><\/div><\/h4><\/a><\/div><\/div>";$("#ul_ShopList").append(v)}PreviousPageCount>0?($("#a_previous").removeAttr("disabled","disabled"),$("#a_previousTop").removeAttr("disabled","disabled")):($("#a_previous").attr("disabled","disabled"),$("#a_previousTop").attr("disabled","disabled"));(f==""||f==null||f==undefined)&&loadCategorryFirstTime&&(loadCategorryFirstTime=!1,Load_Categories());(o==""||o==null||o==undefined)&&Load_BooksClasses();(s==""||s==null||s==undefined)&&Load_Books_Medium();(h.toString()==""||h==null||h==undefined)&&Load_Publishers();(e.toString()==""||e==null||e==undefined)&&loadSubjectFirstTime&&(loadSubjectFirstTime=!1,Load_SubjectAsCategories())}}catch(w){$("#WaitingMsg").css("display","none")}},complete:function(){$("#WaitingMsg").css("display","none")},failure:function(){$("#WaitingMsg").css("display","none");alert("Error coming in data")},error:function(){$("#WaitingMsg").css("display","none");alert("Error coming in data")}})}catch(ht){$("#WaitingMsg").css("display","none")}}function Load_Categories(){$.ajax({type:"POST",url:"index.aspx/WEB_load_Categories",data:"{ }",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,cache:!1,success:function(n){var r=JSON.parse(n.d),e=r.length,t,u,f,i;for($("#dv_Category").empty(),t=0;t<e;t++)u="<div class='custom-control custom-checkbox'><input name='checkboxforcategories' class='custom-control-input Category' type='checkbox' id='Category"+r[t].BookCategoryID+"'><label id='Categorylbl"+r[t].BookCategoryID+"' class='custom-control-label' for='Category"+r[t].BookCategoryID+"'>"+r[t].BookCategoryDesc+"&nbsp;<span class='text-muted'><\/span><\/label><\/div>",$("#dv_Category").append(u);f=getQueryStrings();i=f.Cat;(i==null||i=="Nil")&&(i="");i!=""&&(document.getElementById("Category"+i).checked=!0);$('input[name="checkboxforcategories"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)})},failure:function(){alert("Error coming in Catgeory")},error:function(){alert("Error coming in Catgeory")}})}function Load_SubjectAsCategories(){$.ajax({type:"POST",url:"index.aspx/WEB_load_BookSubjectAsCategory",data:"{ }",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,cache:!1,success:function(n){var r=JSON.parse(n.d),e=r.length,t,u,f,i;for($("#dv_Subject").empty(),t=0;t<e;t++)u="<div class='custom-control custom-checkbox'><input name='checkboxforSubjectcategories' class='custom-control-input Subject' type='checkbox' id='Subject"+r[t].TitleSubjectID+"'><label id='Subjectlbl"+r[t].TitleSubjectID+"' class='custom-control-label' for='Subject"+r[t].TitleSubjectID+"'>"+r[t].SubjectName+"&nbsp;<span class='text-muted'><\/span><\/label><\/div>",$("#dv_Subject").append(u);f=getQueryStrings();i=f.SubjectID;(i==null||i=="Nil")&&(i="");i!=""&&(document.getElementById("Subject"+i).checked=!0);$('input[name="checkboxforSubjectcategories"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)})},failure:function(){alert("Error coming in Catgeory")},error:function(){alert("Error coming in Catgeory")}})}function Load_BooksClasses(){var t=getQueryStrings(),n=t.Cat;(n==null||n=="Nil")&&(n="");$.ajax({type:"POST",url:"index.aspx/WEB_load_BookClasses",data:"{'BooKCategoryID': '"+n.toString()+"'}",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,cache:!1,success:function(n){var i=JSON.parse(n.d),u=i.length,t,r;for($("#dv_Classes").empty(),t=0;t<u;t++)r="<div class='custom-control custom-checkbox'><input name='checkboxforClass' class='custom-control-input Subject' type='checkbox' id='Class"+i[t].ClassID+"'><label id='Classlbl"+i[t].ClassID+"' class='custom-control-label' for='Class"+i[t].ClassID+"'>"+i[t].ClassDesc+"&nbsp;<span class='text-muted'><\/span><\/label><\/div>",$("#dv_Classes").append(r);$('input[name="checkboxforClass"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)})},failure:function(){alert("Error coming in Class")},error:function(){alert("Error coming in Class")}})}function Load_Books_Medium(){var i=getQueryStrings(),n=i.Cat,t;(n==null||n=="Nil")&&(n="");t="";$.ajax({type:"POST",url:"index.aspx/WEB_load_BookMedium",data:"{'BooKCategoryID': '"+n.toString()+"','MediumID': '"+t.toString()+"'}",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,cache:!1,success:function(n){var i=JSON.parse(n.d),u=i.length,t,r;for($("#dv_Medium").empty(),t=0;t<u;t++)r="<div class='custom-control custom-checkbox'><input name='checkboxforMedium' class='custom-control-input Medium' type='checkbox' id='Medium"+i[t].MediumID+"'><label id='Mediumlbl"+i[t].MediumID+"' class='custom-control-label' for='Medium"+i[t].MediumID+"'>"+i[t].MediumDesc+"&nbsp;<span class='text-muted'><\/span><\/label><\/div>",$("#dv_Medium").append(r);$('input[name="checkboxforMedium"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)})},failure:function(){alert("Error coming in Language")},error:function(){alert("Error coming in Language")}})}function Load_Publishers(){$.ajax({type:"POST",url:"index.aspx/WEB_load_Publisher",data:"{ }",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,cache:!1,success:function(n){for(var r,i=JSON.parse(n.d),u=i.length,t=0;t<u;t++)r="<div class='custom-control custom-checkbox'><input name='checkboxforPublisher' class='custom-control-input Publisher' type='checkbox' id='Publisher"+i[t].PublisherID+"'><label id='Publisherlbl"+i[t].PublisherID+"' class='custom-control-label' for='Publisher"+i[t].PublisherID+"'>"+i[t].PublisherName+"&nbsp;<span class='text-muted'><\/span><\/label><\/div>",$("#dv_Publisher").append(r);$('input[name="checkboxforPublisher"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)})},failure:function(){alert("Error coming in Publisher")},error:function(){alert("Error coming in Publisher")}})}function Load_AuthorList(){$.ajax({type:"POST",url:"index.aspx/WEB_load_Author",data:"{ }",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,cache:!1,success:function(n){for(var r,i=JSON.parse(n.d),u=i.length,t=0;t<u;t++)r="<div class='custom-control custom-checkbox'><input name='checkboxforAuthors' class='custom-control-input Author' type='checkbox' id='Author"+i[t].AuthorID+"'><label id='Authorlbl"+i[t].AuthorID+"' class='custom-control-label' for='Author"+i[t].AuthorID+"'>"+i[t].AuthorName+"&nbsp;<span class='text-muted'><\/span><\/label><\/div>",$("#dv_Authorlist").append(r)},failure:function(){alert("Error coming in Author")},error:function(){alert("Error coming in Author")}})}function ResetPageNumber(){NextPageCount=1;PreviousPageCount=0;$("#a_Next").attr("data-pageid",NextPageCount);$("#a_previous").attr("data-pageid",PreviousPageCount);$("#a_Nexttop").attr("data-pageid",NextPageCount);$("#a_previousTop").attr("data-pageid",PreviousPageCount)}var NextPageCount=1,PreviousPageCount=0,loadSubjectFirstTime=!0,loadCategorryFirstTime=!0;$(document).ready(function(){$("#a_previous").attr("disabled","disabled");$("#a_previousTop").attr("disabled","disabled");$('input[name="checkboxforcategories"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$('input[name="checkboxforSubjectcategories"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$('input[name="checkboxforClass"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$('input[name="checkboxforMedium"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$('input[name="checkboxforPublisher"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$('input[name="checkboxforAuthors"]').click(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$("#ContentPlaceHolder1_ddl_Language").change(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$("#sorting").change(function(){this.value.replace(" ","")!="Clearsort"&&(ResetPageNumber(),WEB_load_ItemSpecialOffer(this.value.replace(" ",""),1,0))});$("#sortingAcenDesc").change(function(){ResetPageNumber();WEB_load_ItemSpecialOffer("BookName",1,0)});$("#a_Next").click(function(){NextPageCount++;PreviousPageCount++;$("#a_Next").attr("data-pageid",NextPageCount);$("#a_previous").attr("data-pageid",PreviousPageCount);$("#a_Nexttop").attr("data-pageid",NextPageCount);$("#a_previousTop").attr("data-pageid",PreviousPageCount);var n=document.getElementById("a_Next").getAttribute("data-pageid"),t=document.getElementById("a_previous").getAttribute("data-pageid");WEB_load_ItemSpecialOffer("BookName",n,t)});$("#a_Nexttop").click(function(){NextPageCount++;PreviousPageCount++;$("#a_Next").attr("data-pageid",NextPageCount);$("#a_previous").attr("data-pageid",PreviousPageCount);$("#a_Nexttop").attr("data-pageid",NextPageCount);$("#a_previousTop").attr("data-pageid",PreviousPageCount);var n=document.getElementById("a_Nexttop").getAttribute("data-pageid"),t=document.getElementById("a_previous").getAttribute("data-pageid");WEB_load_ItemSpecialOffer("BookName",n,t)});$("#a_previousTop").click(function(){NextPageCount--;PreviousPageCount--;$("#a_Next").attr("data-pageid",NextPageCount);$("#a_previous").attr("data-pageid",PreviousPageCount);$("#a_Nexttop").attr("data-pageid",NextPageCount);$("#a_previousTop").attr("data-pageid",PreviousPageCount);var n=document.getElementById("a_Nexttop").getAttribute("data-pageid"),t=document.getElementById("a_previous").getAttribute("data-pageid");WEB_load_ItemSpecialOffer("BookName",n,t)});$("#a_previous").click(function(){NextPageCount--;PreviousPageCount--;$("#a_Next").attr("data-pageid",NextPageCount);$("#a_previous").attr("data-pageid",PreviousPageCount);$("#a_Nexttop").attr("data-pageid",NextPageCount);$("#a_previousTop").attr("data-pageid",PreviousPageCount);var n=document.getElementById("a_Next").getAttribute("data-pageid"),t=document.getElementById("a_previous").getAttribute("data-pageid");WEB_load_ItemSpecialOffer("BookName",n,t)});$(".toggleFilter").click(function(){$("#filter").toggleClass("showFilter");$("#filter").hasClass("showFilter")?$("body").css("overflow","hidden"):$("body").css("overflow","scroll")})});$(window).load(function(){var t=getQueryStrings(),n=t.langid;(n==undefined||n==null)&&(n="");n==""||n=="Nil"?$("#ContentPlaceHolder1_ddl_Language").val("Nil"):$("#ContentPlaceHolder1_ddl_Language").val(n)});